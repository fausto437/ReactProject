{"ast":null,"code":"import _slicedToArray from\"C:/Users/DELL/OneDrive/Documentos/Personal/reactTest/login_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Menu}from\"./Menu\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState(\"false\"),_useState2=_slicedToArray(_useState,2),loginStatus=_useState2[0],setLoginStatus=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),usr=_useState4[0],setUsr=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pss=_useState6[0],setPass=_useState6[1];function loginFn(e){e.preventDefault();var ustTxtStr=document.getElementById(\"usrTxt\").value;var passTxtStr=document.getElementById(\"passTxt\").value;//Se valida que se envíe usuario y contraseña\nif(ustTxtStr.length==0||passTxtStr.length==0){alert(\"Se requiere ingresar los datos de usuario y contraseña\");}else{//Se valida en la base\n$.ajax({cache:false,type:\"GET\",url:\"https://localhost:44323/Users/GetUser?usr=\"+ustTxtStr+\"&pss=\"+passTxtStr,success:function success(data,textStatus,jqXHR){//Si es correcto se muestra el menú\nif(data!=0){setUsr(data);setLoginStatus(\"true\");document.getElementById(\"formLogin\").style.display=\"none\";document.getElementById(\"div-menu\").style.display=\"block\";}//Si NO es correcto se muestra msj de error\nelse{alert(\"Los datos ingresados son incorrectos.\");setLoginStatus(\"false\");}},error:function error(jqXHR,textStatus,errorThrown){alert(\"Los datos ingresados son incorrectos.\");setLoginStatus(\"false\");}});}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"form\",{id:\"formLogin\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Usuario\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"\",id:\"usrTxt\",placeholder:\"\",onChange:function onChange(e){return setUsr(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"\",id:\"passTxt\",placeholder:\"\",onChange:function onChange(e){return setPass(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:loginFn,children:\"Conectar\"})]})}),loginStatus===\"true\"?/*#__PURE__*/_jsx(Menu,{userId:usr}):\"\"]});};","map":{"version":3,"names":["React","useState","Menu","$","Login","loginStatus","setLoginStatus","usr","setUsr","pss","setPass","loginFn","e","preventDefault","ustTxtStr","document","getElementById","value","passTxtStr","length","alert","ajax","cache","type","url","success","data","textStatus","jqXHR","style","display","error","errorThrown","target"],"sources":["C:/Users/DELL/OneDrive/Documentos/Personal/reactTest/login_react/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Menu } from \"./Menu\";\r\nimport $ from \"jquery\";\r\n\r\nexport const Login = () => {\r\n  const [loginStatus, setLoginStatus] = useState(\"false\");\r\n  const [usr, setUsr] = useState(\"\");\r\n  const [pss, setPass] = useState(\"\");\r\n  \r\n\r\n  function loginFn(e) {\r\n    e.preventDefault();\r\n    \r\n    var ustTxtStr = document.getElementById(\"usrTxt\").value;\r\n    var passTxtStr = document.getElementById(\"passTxt\").value;\r\n    //Se valida que se envíe usuario y contraseña\r\n    if (ustTxtStr.length == 0 || passTxtStr.length == 0) {\r\n      alert(\"Se requiere ingresar los datos de usuario y contraseña\");\r\n    } else {\r\n      //Se valida en la base\r\n      $.ajax({\r\n        cache: false,\r\n        type: \"GET\",\r\n        url:\r\n          \"https://localhost:44323/Users/GetUser?usr=\" +\r\n          ustTxtStr +\r\n          \"&pss=\" +\r\n          passTxtStr,\r\n        success: function (data, textStatus, jqXHR) {\r\n          //Si es correcto se muestra el menú\r\n          if (data != 0) {\r\n            setUsr(data);\r\n            setLoginStatus(\"true\");\r\n            document.getElementById(\"formLogin\").style.display = \"none\";\r\n            document.getElementById(\"div-menu\").style.display = \"block\";\r\n          }\r\n          //Si NO es correcto se muestra msj de error\r\n          else {\r\n            alert(\"Los datos ingresados son incorrectos.\");\r\n            setLoginStatus(\"false\");\r\n          }\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) {\r\n          alert(\"Los datos ingresados son incorrectos.\");\r\n          setLoginStatus(\"false\");\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form id=\"formLogin\">\r\n        <div className=\"container\">\r\n          <div>\r\n            <label htmlFor=\"\">Usuario</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"\"\r\n              id=\"usrTxt\"\r\n              placeholder=\"\"\r\n              onChange={(e) => setUsr(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"\">Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"\"\r\n              id=\"passTxt\"\r\n              placeholder=\"\"\r\n              onChange={(e) => setPass(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={loginFn}>\r\n            Conectar\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {loginStatus === \"true\" ? <Menu userId={usr} /> : \"\"}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
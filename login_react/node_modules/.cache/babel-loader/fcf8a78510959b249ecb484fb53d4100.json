{"ast":null,"code":"import _slicedToArray from\"C:/Users/DELL/OneDrive/Documentos/Personal/reactTest/login_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserInfo=function UserInfo(props){var _useState=useState(props.userId),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),Id=_useState4[0],setId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),City=_useState8[0],setCity=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),Country=_useState10[0],setCountry=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),Phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),Email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),Picture=_useState16[0],setPicture=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),PictureB=_useState18[0],setPictureB=_useState18[1];var getUserInfo=function getUserInfo(){$.ajax({cache:false,type:\"GET\",url:\"https://localhost:44323/Users/GetUserAddress?userId=\"+userId,success:function success(data,textStatus,jqXHR){var ob=JSON.parse(data);setAddress(ob.address);setCity(ob.City);setCountry(ob.Country);setPhone(ob.Phone);setEmail(ob.Email);if(ob.Picture!=null)setPictureB(ob.Picture);return ob;},error:function error(jqXHR,textStatus,errorThrown){return\"\";}});};var _useState19=useState(getUserInfo),_useState20=_slicedToArray(_useState19,2),userInfo=_useState20[0],setUserInfo=_useState20[1];var guardarCambios=function guardarCambios(e){e.preventDefault();var body={Id:Id,address:address,City:City,Country:Country,Phone:Phone,Email:Email,Picture:Picture};var form=new FormData();form.append(\"Id\",Id);form.append(\"address\",address);form.append(\"City\",City);form.append(\"Country\",Country);form.append(\"Phone\",Phone);form.append(\"Email\",Email);form.append(\"Picture\",Picture);$.ajax({cache:false,type:\"POST\",url:\"https://localhost:44323/Users/UpdateUserAddress\",processData:false,mimeType:\"multipart/form-data\",contentType:false,data:form,success:function success(data,textStatus,jqXHR){getUserInfo();},error:function error(jqXHR,textStatus,errorThrown){console.log(textStatus);}});};var handleChange=function handleChange(e){var _e$target$files=_slicedToArray(e.target.files,1),f=_e$target$files[0];setPicture(f);};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"\",onSubmit:guardarCambios,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"addressTxt\",className:\"form-control-plaintext\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cityTxt\",className:\"form-control-plaintext\",children:\"Ciudad\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"countryTxt\",className:\"form-control-plaintext\",children:\"Pa\\xEDs\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phoneTxt\",className:\"form-control-plaintext\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailTxt\",className:\"form-control-plaintext\",children:\"Correo\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"picValue\",className:\"form-control-plaintext\",children:\"Im\\xE1gen de perfil\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-9\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"addressTxt\",value:address,placeholder:\"Direcci\\xF3n\",onChange:function onChange(e){return setAddress(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"cityTxt\",placeholder:\"Ciudad\",value:City,onChange:function onChange(e){return setCity(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"countryTxt\",placeholder:\"Pa\\xEDs\",value:Country,onChange:function onChange(e){return setCountry(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"phoneTxt\",placeholder:\"Tel\\xE9fono\",maxLength:10,value:Phone,onChange:function onChange(e){return setPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"emailTxt\",placeholder:\"Correo\",value:Email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",id:\"picValue\",onChange:handleChange,multiple:false,accept:\".jpeg, .jpg\"}),PictureB!=null?/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(PictureB),width:\"200\"}):/*#__PURE__*/_jsx(\"p\",{children:\"No se ha cargado imagen.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mb-3\",children:\"Guardar\"})})]})});};","map":{"version":3,"names":["React","useState","useEffect","$","UserInfo","props","userId","setUserId","Id","setId","address","setAddress","City","setCity","Country","setCountry","Phone","setPhone","Email","setEmail","Picture","setPicture","PictureB","setPictureB","getUserInfo","ajax","cache","type","url","success","data","textStatus","jqXHR","ob","JSON","parse","error","errorThrown","userInfo","setUserInfo","guardarCambios","e","preventDefault","body","form","FormData","append","processData","mimeType","contentType","console","log","handleChange","target","files","f","value"],"sources":["C:/Users/DELL/OneDrive/Documentos/Personal/reactTest/login_react/src/components/UserInfo.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport $ from \"jquery\";\r\n\r\nexport const UserInfo = (props) => {\r\n  const [userId, setUserId] = useState(props.userId);\r\n  const [Id, setId] = useState(1);\r\n  const [address, setAddress] = useState(\"\");\r\n  const [City, setCity] = useState(\"\");\r\n  const [Country, setCountry] = useState(\"\");\r\n  const [Phone, setPhone] = useState(\"\");\r\n  const [Email, setEmail] = useState(\"\");\r\n  const [Picture, setPicture] = useState(null);\r\n  const [PictureB, setPictureB] = useState(null);\r\n\r\n  const getUserInfo = () => {\r\n    $.ajax({\r\n      cache: false,\r\n      type: \"GET\",\r\n      url: \"https://localhost:44323/Users/GetUserAddress?userId=\" + userId,\r\n      success: function (data, textStatus, jqXHR) {\r\n        var ob = JSON.parse(data);\r\n        setAddress(ob.address);\r\n        setCity(ob.City);\r\n        setCountry(ob.Country);\r\n        setPhone(ob.Phone);\r\n        setEmail(ob.Email);\r\n        if (ob.Picture != null) setPictureB(ob.Picture);\r\n        return ob;\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        return \"\";\r\n      },\r\n    });\r\n  };\r\n  const [userInfo, setUserInfo] = useState(getUserInfo);\r\n  const guardarCambios = (e) => {\r\n    e.preventDefault();\r\n    var body = { Id, address, City, Country, Phone, Email, Picture };\r\n    var form = new FormData();\r\n    form.append(\"Id\", Id);\r\n    form.append(\"address\", address);\r\n    form.append(\"City\", City);\r\n    form.append(\"Country\", Country);\r\n    form.append(\"Phone\", Phone);\r\n    form.append(\"Email\", Email);\r\n    form.append(\"Picture\", Picture);\r\n    $.ajax({\r\n      cache: false,\r\n      type: \"POST\",\r\n      url: \"https://localhost:44323/Users/UpdateUserAddress\",\r\n      processData: false,\r\n      mimeType: \"multipart/form-data\",\r\n      contentType: false,\r\n      data: form,\r\n      success: function (data, textStatus, jqXHR) {\r\n        getUserInfo();\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(textStatus);\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const [f] = e.target.files;\r\n    setPicture(f);\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <form className=\"\" onSubmit={guardarCambios}>\r\n        <div className=\"row\">\r\n          <div className=\"col-3\">\r\n            <label htmlFor=\"addressTxt\" className=\"form-control-plaintext\">\r\n              Dirección\r\n            </label>\r\n            <label htmlFor=\"cityTxt\" className=\"form-control-plaintext\">\r\n              Ciudad\r\n            </label>\r\n            <label htmlFor=\"countryTxt\" className=\"form-control-plaintext\">\r\n              País\r\n            </label>\r\n            <label htmlFor=\"phoneTxt\" className=\"form-control-plaintext\">\r\n              Teléfono\r\n            </label>\r\n            <label htmlFor=\"emailTxt\" className=\"form-control-plaintext\">\r\n              Correo\r\n            </label>\r\n            <label htmlFor=\"picValue\" className=\"form-control-plaintext\">\r\n              Imágen de perfil\r\n            </label>\r\n          </div>\r\n          <div className=\"col-9\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"addressTxt\"\r\n              value={address}\r\n              placeholder=\"Dirección\"\r\n              onChange={(e) => setAddress(e.target.value)}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"cityTxt\"\r\n              placeholder=\"Ciudad\"\r\n              value={City}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"countryTxt\"\r\n              placeholder=\"País\"\r\n              value={Country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"phoneTxt\"\r\n              placeholder=\"Teléfono\"\r\n              maxLength={10}\r\n              value={Phone}\r\n              onChange={(e) => setPhone(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"emailTxt\"\r\n              placeholder=\"Correo\"\r\n              value={Email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"file\"\r\n              className=\"form-control\"\r\n              id=\"picValue\"\r\n              onChange={handleChange}\r\n              multiple={false}\r\n              accept=\".jpeg, .jpg\"\r\n            />\r\n            {PictureB !=null ? (\r\n              <img src={`data:image/jpeg;base64,${PictureB}`} width=\"200\" />\r\n            ) : (\r\n              <p>No se ha cargado imagen.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-auto\">\r\n          <button type=\"submit\" className=\"btn btn-primary mb-3\">\r\n            Guardar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}